servers:
  - name: gmail
    description: Gmail MCP server backed by Mailpit for sandboxed email operations
    path: gmail/main.py
    enabled: true
    env:
      PORT: "8853"
      MAILPIT_BASE_URL: http://128.111.28.87:8025
      API_PROXY_URL: http://128.111.28.87:8031
      MAILPIT_SMTP_HOST: http://128.111.28.87
      MAILPIT_SMTP_PORT: 1025
      AUTH_API_URL: http://128.111.28.87:8030
      USER_ACCESS_TOKEN: ""  # Set per-user or leave empty
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # SuiteCRM MCP Server
  - name: suitecrm
    description: SuiteCRM MCP server for comprehensive CRM operations
    path: suitecrm/main.py
    enabled: false
    env:
      # HTTP MCP Server Port
      SUITECRM_MCP_PORT: "8005"

      # Base URL for SuiteCRM instance
      SUITECRM_BASE_URL: "http://128.111.28.87:8080"

      # OAuth2 Grant Type: "password" or "client_credentials"
      SUITECRM_GRANT_TYPE: "client_credentials"

      # OAuth2 Client Credentials
      SUITECRM_CLIENT_ID: "17817554-086b-83d1-bf9d-69026221f529"
      SUITECRM_CLIENT_SECRET: "mcp-secret-123"

      # Password Grant Credentials (when using grant_type="password")
      SUITECRM_USERNAME: "bitnami"
      SUITECRM_PASSWORD: "user"

      # Optional: Pre-supplied access token (if already authenticated). If empty,
      # start.sh will auto-fetch using the grant type above.
      SUITECRM_ACCESS_TOKEN: ""

    transport: http
    # Directly run the MCP server with uv (HTTP at http://localhost:$PORT/mcp)
    command: ["uv", "run", "python", "main.py"]

  # Calendar MCP Server
  - name: calendar
    description: Google Calendar Sandbox MCP server
    path: calendar/main.py
    enabled: true
    env:
      PORT: "8841"
      CALENDAR_API_URL: "http://128.111.28.87:8032"
      USER_ACCESS_TOKEN: ""
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # Zoom MCP Server
  - name: zoom
    description: Zoom Sandbox MCP server
    path: zoom/main.py
    enabled: true
    env:
      PORT: "8847"
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # Slack MCP Server
  - name: slack
    description: Slack Sandbox MCP server
    path: slack/main.py
    enabled: true
    env:
      PORT: "8844"
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # Snowflake MCP Server
  - name: snowflake
    description: Snowflake MCP server
    path: snowflake/main.py
    enabled: true
    env:
      PORT: "8842"
      HOST: "0.0.0.0"
      # Local PostgreSQL (see envs/snowflake/docker-compose.yml)
      POSTGRES_DSN: "postgresql://snow:snow@127.0.0.1:5452/snowdb"
      # Search configuration
      SEARCH_MODE: "faiss"  # "faiss" or "simple"
      SEARCH_TABLE: "product_search_view"
      SEARCH_COLUMNS: "name,description"
      # Optional OpenAI config (key should be provided via secure environment, not committed)
      OPENAI_MODEL: "gpt-4o-mini"
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # Databricks MCP Server
  - name: databricks
    description: Databricks MCP server
    path: databricks/main.py
    enabled: true
    env:
      PORT: "8843"
      HOST: "0.0.0.0"
      POSTGRES_DSN: "postgresql://snow:snow@127.0.0.1:5452/snowdb"
      SEARCH_MODE: "faiss"
      SEARCH_TABLE: "product_search_view"
      SEARCH_COLUMNS: "name,description"
      OPENAI_MODEL: "gpt-4o-mini"
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # PayPal MCP Server (Local Sandbox)
  - name: paypal
    description: PayPal MCP server (local sandbox, no external API)
    path: paypal/main.py
    enabled: true
    env:
      PORT: "8861"
      PAYPAL_API_URL: "http://128.111.28.87:8035"
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # ERS MCP Server
  - name: ers
    description: ERS (Employee Reimbursement System) MCP server
    path: ers/main.py
    enabled: true
    env:
      PORT: "8859"
      ERS_API_URL: "http://127.0.0.1:8036"
      USER_ACCESS_TOKEN: ""
    transport: http
    command: ["uv", "run", "python", "main.py"]

  # Terminal MCP Server
  - name: terminal
    description: Terminal MCP server for executing commands in Docker environment
    path: terminal/main.py
    enabled: true
    env:
      # SSE Server Port
      PORT: "8845"
      
      # Docker container name
      TERMINAL_CONTAINER_NAME: "terminal-environment"
      
      # Docker daemon socket
      DOCKER_HOST: "unix:///var/run/docker.sock"
    
    transport: sse
    # Command to launch the MCP server (via supergateway)
    command: ["npx", "-y", "supergateway", "--port", "$PORT", "--stdio", "uv run python main.py"]

  # Research MCP Server
  - name: research
    description: Research MCP server for academic search, web search, and code execution
    path: research/main.py
    enabled: true
    env:
      # SSE Server Port
      PORT: "8846"
      
      # Docker container name for code execution
      TERMINAL_CONTAINER_NAME: "research-environment"
      
      # Docker daemon socket
      DOCKER_HOST: "unix:///var/run/docker.sock"
      
      # API Keys (optional, but recommended)
      # IMPORTANT: Set these via environment variables before running:
      #   export BRAVE_SEARCH_API_KEY="your-key"  # Get from https://api-dashboard.search.brave.com
      #   export SEMANTIC_SCHOLAR_API_KEY="your-key"  # Optional, for better academic search
      BRAVE_SEARCH_API_KEY: ""  # Value is read from environment variable, not from this config
      SEMANTIC_SCHOLAR_API_KEY: ""  # Value is read from environment variable, not from this config
    
    transport: sse
    # Command to launch the MCP server (via supergateway)
    command: ["npx", "-y", "supergateway", "--port", "$PORT", "--stdio", "uv run python main.py"]

  # Windows MCP
  - name: windows-os
    description: Windows desktop automation MCP client (requires FastAPI backend)
    path: windows/mcp_client.py
    enabled: false
    env:
      API_BASE_URL: http://localhost:8005
    transport: sse

  # Local Google Form MCP Server
  - name: google-form
    description: Local Google Form MCP server (manages schema and submissions for the dockerized form)
    path: google_form/main.py
    enabled: true
    env:
      PORT: "8855"
      FORM_API_BASE: "http://127.0.0.1:8054"
      # Optional: direct file path to schema.json for edits (outside docker)
      SCHEMA_PATH: "/scratch/czr/thb/DecodingTrust-Agent/dt_arena/envs/google-form/schemas/schema.json"
      UI_URL: "http://127.0.0.1:8055/"
    transport: http
    command: ["uv", "run", "python", "main.py"]
